<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leos Interaktiver Stundenplan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@0.344.0/dist/umd/lucide.js"></script>
    <style>
        :root {
            --color-primary: #8a815c;
            --color-accent: #d4a265;
            --color-bg-light: #fdfaf2;
            --color-bg-medium: #f3eada;
            --color-text: #3a3a3a;
            --color-text-light: #6b664d;
        }
        
        html { scroll-behavior: smooth; }

        body {
            font-family: 'EB Garamond', serif;
            background-color: var(--color-bg-light);
            color: var(--color-text);
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f3eada' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .main-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: rgba(253, 250, 242, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 1.5rem;
            border: 1px solid var(--color-bg-medium);
            box-shadow: 0 10px 30px rgba(0,0,0,0.07);
        }

        h1.main-title { color: var(--color-primary); font-size: 2.5rem; font-weight: 700; }
        p.subtitle { color: var(--color-text-light); font-size: 1.2rem; font-style: italic; }

        .timetable-entry {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 2px solid var(--color-bg-medium);
            border-radius: 0.75rem;
            margin-bottom: 0.75rem;
            background-color: #f9f8f2;
            transition: all 0.3s ease;
        }
        .timetable-entry.locked {
            background-color: #f5f5f5;
            color: #b0b0b0;
            cursor: not-allowed;
            opacity: 0.7;
        }
        .timetable-entry.active {
            cursor: pointer;
            background-color: white;
            border-color: var(--color-accent);
            box-shadow: 0 4px 15px rgba(146, 138, 93, 0.1);
            transform: scale(1.02);
            animation: pulse-active 2s infinite;
        }
        .timetable-entry.completed {
            background-color: #eef2e9;
            border-color: #a3b18a;
            opacity: 0.8;
        }
        .timetable-entry .time {
            font-weight: 600;
            width: 80px;
            flex-shrink: 0;
            color: var(--color-primary);
        }
        .timetable-entry .icon {
            width: 24px;
            height: 24px;
            margin: 0 1rem;
            color: var(--color-accent);
        }
        .timetable-entry.completed .icon { color: #8a815c; }
        .timetable-entry .title {
            font-weight: 600;
            font-size: 1.2rem;
            flex-grow: 1;
        }
        .timetable-entry.locked .title { color: #b0b0b0; }
        .timetable-entry.locked .icon { color: #d1d5db; }
        
        .progress-bar-container {
            width: 100%;
            background-color: var(--color-bg-medium);
            border-radius: 8px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        .progress-bar {
            width: 0%;
            height: 10px;
            background-color: var(--color-accent);
            transition: width 0.5s ease-in-out;
        }

        .summary-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-in-out, transform 0.8s ease-in-out;
        }
        .summary-section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .summary-section h2 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--color-primary);
            margin-top: 2.5em;
            margin-bottom: 1em;
            border-bottom: 1px solid var(--color-bg-medium);
            padding-bottom: 0.3em;
        }
        .summary-section p, .summary-section li {
            text-align: justify;
            font-size: 1.1rem;
        }
        .summary-section ul {
            list-style-position: inside;
            padding-left: 0;
        }
        .literature-list li {
            text-indent: -1.5em;
            padding-left: 1.5em;
            margin-bottom: 0.5em;
        }

        .hidden { display: none; }

        .modal-backdrop {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(58, 58, 58, 0.7);
            backdrop-filter: blur(5px);
            z-index: 50;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
            display: none; /* Changed from hidden to none for initial state */
            align-items: center;
            justify-content: center;
        }
        .modal-backdrop.open { 
            display: flex; 
            opacity: 1; /* Add this to control opacity transition */
        }
        .modal-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            width: 90%;
            max-width: 650px;
            transform: scale(0.95);
            transition: transform 0.3s ease-in-out;
        }
        .modal-backdrop.open .modal-container { transform: scale(1); }
        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--color-bg-medium);
        }
        .modal-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--color-primary);
        }
        .modal-body {
            padding: 1.5rem;
            line-height: 1.8;
            text-align: justify;
        }
        .modal-body strong {
            color: var(--color-primary);
            font-weight: 600;
        }
        .modal-footer {
            padding: 1rem 1.5rem;
            background-color: var(--color-bg-light);
            text-align: right;
            border-top: 1px solid var(--color-bg-medium);
        }
        .modal-close-btn {
            background-color: var(--color-primary);
            color: white;
            padding: 0.5rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .modal-close-btn:hover {
            background-color: #736b4f;
        }
        
        @keyframes pulse-active {
            0% { box-shadow: 0 0 0 0 rgba(212, 162, 101, 0.4); }
            70% { box-shadow: 0 4px 15px 10px rgba(212, 162, 101, 0); }
            100% { box-shadow: 0 0 0 0 rgba(212, 162, 101, 0); }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="main-container">
        <header class="text-center mb-12">
            <img src="https://i.ibb.co/g6dZkPj/leo-avatar-final.png" alt="Avatar von Leo" class="w-24 h-24 mx-auto rounded-full mb-4 shadow-lg border-4" style="border-color: var(--color-bg-medium);">
            <h1 class="main-title">Leos interaktiver Stundenplan</h1>
            <p class="subtitle">Ein Tag in der Schule im Jahr 2030</p>
        </header>

        <div class="progress-bar-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>

        <div id="timetable-container">
        </div>

        <div id="summary-section" class="summary-section hidden">
            <div class="bg-white p-8 rounded-lg mt-12 border border-[var(--color-bg-medium)]">
                <h2 class="!mt-0">Analyse: Die Säulen der Schule 2030</h2>
                <p>Leos erlebter Schultag ist keine Utopie, sondern basiert auf bewährten Praktiken und wissenschaftlichen Erkenntnissen. Die Vision ruht auf drei untrennbar miteinander verbundenen Säulen.</p>
                
                <h2>Säule 1: Eine neue Kultur des Lehrens und Lernens</h2>
                <p>Das Herzstück ist ein Wandel weg von der reinen Wissensvermittlung hin zur aktiven Kompetenzentwicklung. Lehrkräfte werden zu Lernbegleitern, die in Teams agieren. Der Fokus liegt auf der Förderung von Zukunftskompetenzen (4K) durch projektbasiertes Lernen und formatives Feedback anstelle von reinen Ziffernnoten.</p>
                
                <h2>Säule 2: Gelebte und gestaltete Inklusion</h2>
                <p>Vielfalt wird als Normalfall und Bereicherung verstanden. Multiprofessionelle Teams aus Lehrkräften, Sonderpädagogen und Sozialarbeitern gestalten den Unterricht gemeinsam (Team-Teaching), um allen Schüler:innen gerecht zu werden. Gute inklusive Pädagogik ist gute Pädagogik für alle.</p>

                <h2>Säule 3: Schule als gesunder und inspirierender Lebensraum</h2>
                <p>Die Architektur wird zum "dritten Pädagogen". Starre Klassenzimmer weichen flexiblen Lernlandschaften, die Interaktion und unterschiedliche Lernformen fördern. Gleichzeitig wird die mentale Gesundheit von Schüler:innen und Lehrkräften zur Kernaufgabe der Schulentwicklung.</p>

                <h2 class="mt-12">Literaturverzeichnis & Quellen</h2>
                <ul class="literature-list">
                    <li>Kammerl, R. (2020). Digitale Medien und Schule. Bildung und Erziehung, 73(2), S. 107-122.</li>
                    <li>Stalder, F. (2019). Kultur der Digitalität. 4. Aufl. Berlin: Suhrkamp.</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="modal" class="modal-backdrop">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modal-title"></h3>
            </div>
            <div class="modal-body"></div>
            <div class="modal-footer">
                <button id="modal-close-btn" class="modal-close-btn">Weiter</button>
            </div>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const scheduleData = [
            { time: '8:00 - 9:30', title: 'Ankunft & Lernzeit', icon: 'home', content: { focus: 'Personalisiertes Lernen', text: 'Leo kommt nicht in ein starres Klassenzimmer, sondern in sein \'Lerncluster\'. Hier trifft er sein Team, checkt auf seinem Tablet seinen persönlichen Wochenplan und entscheidet, wo und wie er an seinen Zielen arbeiten möchte.' } },
            { time: '9:50 - 10:35', title: 'Inklusiver Workshop', icon: 'users', content: { focus: 'Gelebte Vielfalt', text: 'Im Englisch-Workshop unterrichten zwei Lehrkräfte im Team-Teaching. So können sie Schüler mit unterschiedlichem Lerntempo gleichzeitig unterstützen, während Leo einer Mitschülerin bei einer Vokabel-App hilft.' } },
            { time: '10:50 - 12:20', title: 'Projektarbeit', icon: 'lightbulb', content: { focus: 'Kompetenzorientierung', text: 'Statt getrenntem Unterricht arbeitet Leos Gruppe am fächerübergreifenden Projekt \'Nachhaltige Stadt\'. Sie recherchieren, entwerfen und präsentieren. Hier zählen Kreativität, Kommunikation und Teamfähigkeit.' } },
            { time: '12:20 - 13:15', title: 'Mittagspause', icon: 'coffee', content: { focus: 'Schule als Lebensraum', text: 'Die Mittagspause findet in der "Lern-Oase" statt, einem offenen, hellen Raum, der als Treffpunkt, Essensbereich und Ort für Entspannung dient. Die Architektur selbst fördert die Gemeinschaft.' } },
            { time: '13:15 - 13:30', title: 'Lerngespräch', icon: 'message-square', content: { focus: 'Formatives Feedback', text: 'Statt einer Note bekommt Leo ein persönliches Gespräch. Anhand seines digitalen Portfolios bespricht er mit seinem Lernbegleiter seine Fortschritte und nächsten Ziele. Das Ziel ist Lernen, nicht Vergleichen.' } }
        ];

        let currentState = {
            activeIndex: 0,
            completed: new Set()
        };

        function renderTimetable() {
            const timetableContainer = document.getElementById('timetable-container');
            if (!timetableContainer) return;
            timetableContainer.innerHTML = '';
            scheduleData.forEach((item, index) => {
                const entry = document.createElement('div');
                entry.className = 'timetable-entry';
                entry.dataset.index = index;

                let stateClass = 'locked';
                if (index === currentState.activeIndex) {
                    stateClass = 'active';
                } else if (currentState.completed.has(index)) {
                    stateClass = 'completed';
                }
                entry.classList.add(stateClass);

                entry.innerHTML = `
                    <div class="time">${item.time}</div>
                    <i data-lucide="${currentState.completed.has(index) ? 'check-circle-2' : item.icon}" class="icon"></i>
                    <div class="title">${item.title}</div>
                `;
                entry.addEventListener('click', () => handleEntryClick(index));
                timetableContainer.appendChild(entry);
            });
            // Initialisierung der Lucide Icons nach dem Hinzufügen zum DOM
            lucide.createIcons();
        }

        function handleEntryClick(index) {
            if (index !== currentState.activeIndex) return;
            
            const item = scheduleData[index];
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalBody = document.getElementById('modal-body');

            if (modal && modalTitle && modalBody) {
                modalTitle.textContent = item.content.focus;
                modalBody.innerHTML = `<p>${item.content.text}</p>`;
                modal.classList.add('open');
            }
        }

        function advanceToNext() {
            if (currentState.activeIndex === -1 && currentState.completed.size === scheduleData.length) return; // All completed and summary shown

            currentState.completed.add(currentState.activeIndex);
            
            if (currentState.activeIndex < scheduleData.length - 1) {
                currentState.activeIndex++;
            } else {
                currentState.activeIndex = -1; // Indicate all tasks are done
                const summarySection = document.getElementById('summary-section');
                if (summarySection) {
                    summarySection.classList.remove('hidden');
                    setTimeout(() => {
                        summarySection.classList.add('visible');
                        summarySection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 300);
                }
            }

            const progressBar = document.getElementById('progress-bar');
            if(progressBar) {
                const progressPercentage = (currentState.completed.size / scheduleData.length) * 100;
                progressBar.style.width = `${progressPercentage}%`;
            }

            renderTimetable();
        }
        
        const closeModalBtn = document.getElementById('modal-close-btn');
        if(closeModalBtn) {
            closeModalBtn.addEventListener('click', () => {
                const modal = document.getElementById('modal');
                if(modal) {
                    // Start the closing animation
                    modal.classList.remove('open');
                }
                // Wait for the animation to complete before advancing
                setTimeout(() => {
                    advanceToNext();
                }, 300); // This timeout should match the modal's transition duration
            });
        }

        renderTimetable();
    });
    </script>
</body>
</html>